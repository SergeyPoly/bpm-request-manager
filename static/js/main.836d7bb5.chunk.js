(this["webpackJsonpbpm-request-manager"]=this["webpackJsonpbpm-request-manager"]||[]).push([[0],{179:function(e,t,n){},250:function(e,t,n){e.exports=n(439)},258:function(e,t,n){},275:function(e,t,n){},276:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},293:function(e,t){},295:function(e,t){},424:function(e,t,n){},439:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n(25),i=n(170);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,448)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},u=(n(179),n(35)),l=(n(258),n(11)),d=n.n(l),f=n(34),p=n(93),m=n(94),h=n(137),b=n(141),v=n(81),O=n.n(v),g=function(){function e(){var t=this;Object(p.a)(this,e),this.BASE_URL="".concat("https://bpm.codot.pro:443/engine-rest/engine/default"),this._accessToken=null,this._tenantId=null,this._username=null,this._handle401=function(){t._accessToken=null,t._tenantId=null,t._username=null,t.removeTenantData(),window.location.replace("/")},this._getCommonOptions=function(){var e=t.loadAccessToken().accessToken;return{headers:{Authorization:"Basic ".concat(e)}}},this.saveTenantData=function(e,n,a){return t._username=e,t._accessToken=a,t._tenantId=n,localStorage.setItem("username",e),localStorage.setItem("tenantId",n),localStorage.setItem("accessToken",a),{username:e,tenantId:n,accessToken:a}},this.removeTenantData=function(){localStorage.removeItem("username"),localStorage.removeItem("tenantId"),localStorage.removeItem("accessToken")}}return Object(m.a)(e,[{key:"get",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,a=this,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},Object.assign(n,this._getCommonOptions()),e.abrupt("return",O.a.get("".concat(this.BASE_URL,"/").concat(t),n).then((function(e){return e.data})).catch((function(e){return a._handleHttpError(e)})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,a,r=this,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2&&void 0!==c[2]?c[2]:{},Object.assign(a,this._getCommonOptions()),e.abrupt("return",O.a.post("".concat(this.BASE_URL,"/").concat(t),n,a).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){return r._handleHttpError(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,a,r=this,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2&&void 0!==c[2]?c[2]:{},Object.assign(a,this._getCommonOptions()),e.abrupt("return",O.a.put("".concat(this.BASE_URL,"/").concat(t),n,a).catch((function(e){return r._handleHttpError(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,a=this,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},Object.assign(n,this._getCommonOptions()),e.abrupt("return",O.a.delete("".concat(this.BASE_URL,"/").concat(t),n).then((function(e){return e.data})).catch((function(e){return a._handleHttpError(e)})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,a,r=this,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2&&void 0!==c[2]?c[2]:{},Object.assign(a,this._getCommonOptions()),e.abrupt("return",O.a.patch("".concat(this.BASE_URL,"/").concat(t),n,a).catch((function(e){return r._handleHttpError(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_handleHttpError",value:function(e){if(401!==e.response.status)throw e;return this._handle401()}},{key:"loadAccessToken",value:function(){var e=localStorage.getItem("accessToken");return this._accessToken=e,{accessToken:e}}},{key:"loadUsername",value:function(){var e=localStorage.getItem("username");return this._username=e,{username:e}}},{key:"loadTenantId",value:function(){var e=localStorage.getItem("tenantId");return this._tenantId=e,{tenantId:e}}},{key:"accessToken",get:function(){return this._accessToken?this._accessToken:this.loadAccessToken()}},{key:"username",get:function(){return this._username?this._username:this.loadUsername()}},{key:"tenantId",get:function(){return this._tenantId?this._tenantId:this.loadTenantId()}}]),e}(),y=new(function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"login",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a,r,c,o,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.password,r="".concat(btoa("".concat(n.toString(),":").concat(a.toString()))),c={headers:{Authorization:"Basic ".concat(r)}},e.next=5,O.a.get("".concat(this.BASE_URL,"/tenant?userMember=").concat(n),c);case 5:return o=e.sent,i=o.data,s=i[0].id,this.saveTenantData(n,s,r),e.abrupt("return",i[0]);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.removeTenantData()}}]),n}(g)),E=function(e){return{type:"LOGIN_FAILED",payload:e}},k=n(64),j=n(446),T={loginForm:{fields:[{type:"text",name:"username",label:"\u0406\u043c'\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",id:Object(j.a)()},{type:"password",name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",id:Object(j.a)()}],submitText:"\u0423\u0432\u0456\u0439\u0442\u0438"},reminderForm:{fields:[{type:"text",name:"username",label:"\u0406\u043c'\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",id:Object(j.a)()},{type:"email",name:"email",label:"Email",id:Object(j.a)()}],submitText:"\u041d\u0430\u0433\u0430\u0434\u0430\u0442\u0438"}},_={basic:"button-basic",transparent:"button-transparent"},w=(n(275),function(e){var t=e.text,n=e.type,a=e.classType,c=e.additionalClass,o=e.handleClick,i=e.disabled,s=i?"button-disabled":"",u="button ".concat(_[a]," ").concat(c," ").concat(s);return r.a.createElement("button",{type:n,className:u,onClick:o,disabled:i},t)}),A=w;w.defaultProps={additionalClass:"",type:"button",disabled:!1};var S=function(e){var t=e.text,n=Object(k.d)(),a=n.errors,c=n.touched,o=Boolean(Object.keys(a).length),i=Boolean(!Object.keys(c).length);return r.a.createElement("div",{className:"form-submit-container"},r.a.createElement(A,{text:t,classType:"basic",type:"submit",disabled:o||i}))},x=(n(276),function(){var e=Object(c.d)((function(e){return e.auth.errorMessage}),c.b);return r.a.createElement("div",{className:"error-message"},r.a.createElement("span",null,e))}),I=n(88),L=n(140),D=(n(277),function(e){var t=e.label,n=e.options,a=Object(L.a)(e,["label","options"]),c=a.type,o=a.name,i=Object(k.c)(a),s=Object(I.a)(i,3),u=s[0],l=(s[1],s[2]),d="checkbox"===c?"form-label-secondary":"form-label-primary",f="checkbox"===c?"form-field-secondary":"file"===c?"form-field-file":"form-field-primary",p=r.a.createElement("label",{className:d,htmlFor:o},t),m=n?r.a.createElement("select",Object.assign({className:f},u,a),r.a.createElement("option",{value:""}),n.map((function(e){var t=e.id,n=e.name;return r.a.createElement("option",{value:t,key:t},n)}))):"file"===c?r.a.createElement("input",Object.assign({className:f,id:o},a,{onChange:function(e){var t=e.currentTarget.files[0],n=t.name;(function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))})(t).then((function(e){var t=e.split(",")[1];return{filename:n,base64file:t}})).then((function(e){return l.setValue(e)}))}})):r.a.createElement("input",Object.assign({className:f,id:o},u,a));return r.a.createElement("div",null,"checkbox"!==c?p:null,m,"checkbox"===c?p:null)}),C=function(e){var t=e.reminderActive,n=Object(c.c)(),a=t?T.reminderForm:T.loginForm,o=Object.fromEntries(a.fields.map((function(e){return[e.name,""]}))),i=a.fields.map((function(e){return r.a.createElement(D,{key:e.id,type:e.type,name:e.name,label:e.label})})),s={initialValues:o,validate:function(e){var t={};for(var n in e)e[n]||(t[n]="required");return t},onSubmit:function(e){n(function(e){var t=e.username,n=e.password;return function(){var e=Object(f.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGIN_REQUEST"}),e.prev=1,e.next=4,y.login({username:t,password:n});case 4:a({type:"LOGIN_SUCCESS",payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),"InvalidCharacterError"===e.t0.name?a(E(401)):a(E(e.t0.response.status));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}(e))}};return r.a.createElement(k.b,Object.assign({},s,{enableReinitialize:!0}),r.a.createElement(k.a,null,r.a.createElement("div",null,i,r.a.createElement(x,null),r.a.createElement(S,{text:a.submitText}))))},N=function(){var e=Object(c.d)((function(e){return e.auth.reminderActive}),c.b),t=Object(c.c)();return r.a.createElement("div",{className:"auth-page"},r.a.createElement("div",{className:"auth-page__form"},r.a.createElement(C,{reminderActive:e}),r.a.createElement(A,{text:e?"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c":"\u0417\u0430\u0431\u0443\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",classType:"transparent",additionalClass:"auth-page__reminder",handleClick:function(){return t({type:"TOGGLE_AUTH_PAGE_FORM"})}})))},R=(n(278),n(36)),G=n(109),U=n(172),F=new(function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"getProcessesId",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"process-instance",t=this.loadUsername(),n=t.username,a={variables:[{name:"Initiator",operator:"eq",value:"".concat(n)}],sorting:[{sortBy:"definitionKey",sortOrder:"asc"},{sortBy:"instanceId",sortOrder:"desc"}]},e.next=5,this.post("process-instance",a);case 5:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProcessStatus",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="task?processInstanceId=".concat(t),e.next=3,this.get(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProcessName",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.loadTenantId(),a=n.tenantId,r="process-definition/key/".concat(t,"/tenant-id/").concat(a,"/xml"),e.next=4,this.get(r);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProcessDefinitions",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.loadTenantId(),n=t.tenantId,a="process-definition?tenantIdIn=".concat(n),e.next=4,this.get(a);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startNewProcess",value:function(){var e=Object(f.a)(d.a.mark((function e(t,n){var a,r,c,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.loadTenantId(),r=a.tenantId,c={variables:n,withVariablesInReturn:!0},o="process-definition/key/".concat(t,"/tenant-id/").concat(r,"/start"),i=this.post(o,c),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(g)),P=function(){return function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_TABLE_DATA"}),e.prev=1,e.next=4,F.getProcessesId().then((function(e){return e.map((function(e){return{id:e.id,number:e.id.slice(0,13),key:e.definitionId.split(":")[0]}}))})).then((function(e){return t(B(e))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a=Object(G.a)(e),r=e.map((function(e){return F.getProcessStatus(e.id)})),Promise.all(r).then((function(e){return e.map((function(e){var t=Object(I.a)(e,1)[0],n=a.find((function(e){return e.id===t.executionId}));return Object(R.a)({},n,{created:t.created,status:t.name})}))})).then((function(e){n(M(e))}))}catch(c){console.log(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r,c,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a=Object(G.a)(e),r=[],c=a.map((function(e){return e.key})),o=Array.from(new Set(c)),i=o.map((function(e){return F.getProcessName(e)})),Promise.all(i).then((function(e){return e.map((function(e){var t,n=e.bpmn20Xml;Object(U.parseString)(n,(function(e,n){t=n}));var a=t["bpmn:definitions"]["bpmn:process"][0].$;return r.push(a),r}))})).then((function(e){for(var t=function(e){a=a.map((function(t){return t.key===r[e].id?Object(R.a)({},t,{name:r[e].name}):t}))},c=0;c<r.length;c++)t(c);a=a.map((function(e){e.key,e.id;var t=Object(L.a)(e,["key","id"]);return Object(R.a)({},t)}));for(var o={year:"numeric",month:"numeric",day:"numeric"},i=0;i<a.length;i++){a[i].key=i+1;var s=new Date(Date.parse(a[i].created));a[i].created=s.toLocaleString("ru",o)}n({type:"SET_TABLE_DATA",payload:a})}))}catch(s){console.log(s)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=n(443),z=n(447),W=n(46),H=n(441),V=(n(305),n(221)),$=n.n(V),J=n(444),K=function(){var e,t,n=Object(c.d)((function(e){return e.requests.tableData}),c.b),o=Object(c.d)((function(e){return e.requests.tableLoading}),c.b),i=Object(a.useState)(""),s=Object(I.a)(i,2),u=s[0],l=s[1],d=Object(a.useState)(""),f=Object(I.a)(d,2),p=f[0],m=f[1],h=function(e,t,n){t(),l(e[0]),m(n)},b=function(e){e(),l("")},v=function(e,t){var n=e.map((function(e){return e[t]}));return Array.from(new Set(n)).map((function(e){return{text:e,value:e}}))},O=v(n,"status"),g=v(n,"name"),y=(t="number",{filterDropdown:function(n){var a=n.setSelectedKeys,c=n.selectedKeys,o=n.confirm,i=n.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(q.a,{ref:function(t){e=t},placeholder:"Search ".concat(t),value:c[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return h(c,o,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(z.b,null,r.a.createElement(W.a,{type:"primary",onClick:function(){return h(c,o,t)},icon:r.a.createElement(J.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(W.a,{onClick:function(){return b(i)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(J.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,n){return n[t]?n[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.select()}),100)},render:function(e){return p===t?r.a.createElement($.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[u],autoEscape:!0,textToHighlight:e?e.toString():""}):e}}),E=[{title:"\u041d\u043e\u043c\u0435\u0440",dataIndex:"number",key:"number",className:"table_text",filterDropdown:y.filterDropdown,filterIcon:y.filterIcon,onFilter:y.onFilter,onFilterDropdownVisibleChange:y.onFilterDropdownVisibleChange,render:y.render},{title:"\u0421\u0442\u0430\u0442\u0443\u0441",dataIndex:"status",key:"status",filters:O,className:"table_text",onFilter:function(e,t){return 0===t.status.indexOf(e)}},{title:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",dataIndex:"created",key:"created",className:"table_text",defaultSortOrder:"descend",sorter:function(e,t){var n=function(e){var t=e.split(".");return new Date(t[2],t[1]-1,t[0])};return n(e.created)-n(t.created)}},{title:"\u0417\u0430\u043f\u0438\u0442",dataIndex:"name",key:"name",filters:g,className:"table_text",onFilter:function(e,t){return 0===t.name.indexOf(e)}}];return r.a.createElement(H.a,{dataSource:n,columns:E,pagination:{position:["bottomCenter"]},size:"middle",loading:o})},Q=function(){var e=Object(c.d)((function(e){return e.requests.drawerActive}),c.b),t=Object(c.c)(),n=e?"hidden":"";return Object(a.useEffect)((function(){t(P()),t(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.getProcessDefinitions().then((function(e){return e.map((function(e){return{key:e.key,name:e.name}}))})).then((function(e){var n=Array.from(new Set(e.map(JSON.stringify))).map(JSON.parse);t({type:"SET_DRAWER_OPTIONS",payload:n})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement("div",{className:"processes-page"},r.a.createElement(K,null),r.a.createElement("div",{className:"processes-page__new-request ".concat(n),onClick:function(){t({type:"TOGGLE_DRAWER_STATUS"})}},r.a.createElement("span",null,"\u041d\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0442")))},X=function(){var e=Object(c.d)((function(e){return e.auth.isAuthorized}),c.b);return r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",render:function(){return e?r.a.createElement(Q,null):r.a.createElement(N,null)}}))},Z=(n(424),function(e){return{type:"SET_CURRENT_LANGUAGE",payload:e}}),Y=function(){var e=Object(c.c)();return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("span",{style:{float:"left",fontWeight:"bold"}},"DEMO "),r.a.createElement("span",{style:{float:"left",marginLeft:"5px"}},"[testUser, testPassword]"),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(A,{text:"UA",classType:"transparent",handleClick:function(){return e(Z("ua"))}}),r.a.createElement("span",null,"|"),r.a.createElement(A,{text:"EN",classType:"transparent",handleClick:function(){return e(Z("en"))}})))},ee=function(){var e=Object(c.d)((function(e){return e.auth.username}),c.b),t="\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447: ".concat(e),n=Object(c.c)();return r.a.createElement("div",null,r.a.createElement("span",{style:{paddingRight:"20px"}},t),r.a.createElement(A,{text:"\u0412\u0438\u0445\u0456\u0434",classType:"transparent",handleClick:function(){n(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.logout();case 2:t({type:"LOGOUT"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n({type:"CLEAR_DATA"})}}))},te=function(){var e=Object(c.d)((function(e){return e.auth.isAuthorized}),c.b)?r.a.createElement(ee,null):r.a.createElement(Y,null);return r.a.createElement("header",{className:"header"},e)},ne=n(445),ae=function(){var e=Object(c.d)((function(e){return e.requests.drawerActive})),t=Object(c.d)((function(e){return e.requests.drawerOptions})),n=Object(c.c)(),a=t.map((function(e){return r.a.createElement("p",{key:e.key,onClick:function(){var t,a;n({type:"TOGGLE_DRAWER_STATUS"}),n((t=e.key,a=e.name,function(){var e=Object(f.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.getProcessName(t).then((function(e){var r,c=e.bpmn20Xml;Object(U.parseString)(c,(function(e,t){r=t}));var o=r["bpmn:definitions"]["bpmn:process"][0]["bpmn:startEvent"][0]["bpmn:extensionElements"][0]["camunda:formData"][0]["camunda:formField"].map((function(e){return e["camunda:value"]?Object(R.a)({},e.$,{options:e["camunda:value"].map((function(e){return e.$}))}):e.$}));n({type:"SET_FORM_OPTIONS",payload:{formFields:o,name:a,key:t}}),n({type:"TOGGLE_MODAL_STATUS"})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()))},style:{cursor:"pointer"}},e.name)}));return r.a.createElement(ne.a,{title:"\u041d\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0442",placement:"right",closable:!1,onClose:function(){n({type:"TOGGLE_DRAWER_STATUS"})},visible:e},a)},re=n(442),ce={string:"text",long:"number",file:"file",date:"date",boolean:"checkbox",enum:"select"},oe=function(){var e=Object(c.c)(),t=Object(c.d)((function(e){return e.requests.formOptions})),n=t.formFields,a=t.key,o=Object.fromEntries(n.map((function(e){return"boolean"===e.type?[e.id,e.defaultValue]:[e.id,""]}))),i=Object.fromEntries(n.map((function(e){return"long"===e.type?[e.id,"double"]:"enum"===e.type?[e.id,"string"]:[e.id,e.type]}))),s=n.map((function(e){return r.a.createElement(D,{key:Object(j.a)(),type:ce[e.type],name:e.id,label:e.label,placeholder:e.defaultValue,options:e.options})})),u={initialValues:o,onSubmit:function(t,n){var r,c,o={};for(var s in t)o[s]={value:t[s],type:i[s]};for(var u in o){if("date"===o[u].type){var l=new Date(o[u].value),p=l.getTimezoneOffset()/-60,m=p>=10?"+".concat(p,"00"):"+0".concat(p,"00");o[u].value=l.toISOString().replace("Z",m)}"file"===o[u].type&&(o[u]={value:o[u].value.base64file,type:"file",valueInfo:{filename:o[u].value.filename,encoding:"Base64"}})}e((r=a,c=o,function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.startNewProcess(r,c).then((function(e){200===e.status&&t(P())}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())),e({type:"TOGGLE_MODAL_STATUS"}),n.resetForm({values:{}})},validate:function(e){var t={};for(var n in e)e[n]||(t[n]="required");return t}};return r.a.createElement(k.b,Object.assign({},u,{enableReinitialize:!0}),r.a.createElement(k.a,null,r.a.createElement("div",null,s,r.a.createElement(S,{text:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"}))))},ie=function(){var e=Object(c.d)((function(e){return e.requests.modalActive})),t=Object(c.d)((function(e){return e.requests.formOptions})).name,n=Object(c.c)();return r.a.createElement(re.a,{title:t,visible:e,onOk:function(){n({type:"TOGGLE_MODAL_STATUS"})},centered:!0,onCancel:function(){n({type:"TOGGLE_MODAL_STATUS"})},footer:null,width:350},r.a.createElement(oe,null))},se=function(){return r.a.createElement("div",{className:"container app-wraper"},r.a.createElement("div",{className:"app-header"},r.a.createElement(te,null)),r.a.createElement("div",{className:"app-content"},r.a.createElement(X,null)),r.a.createElement(ae,null),r.a.createElement(ie,null))},ue=n(138),le=n(61),de={isAuthorized:!1,loading:!1,errorMessage:null,forgetPassword:!1,username:null,reminderActive:!1},fe={tableData:[],tableLoading:!1,drawerActive:!1,drawerOptions:[],modalActive:!1,formOptions:{}},pe={currentLanguage:"ua"},me=Object(le.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"LOGIN_REQUEST":return Object(R.a)({},e,{loading:!0,errorMessage:null});case"LOGIN_SUCCESS":return Object(R.a)({},e,{isAuthorized:!0,loading:!1,username:a});case"LOGIN_FAILED":var r=401===a?"\u043d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u043b\u043e\u0433\u0456\u043d \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u044c":"\u043f\u043e\u043c\u0438\u043b\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0443: ".concat(a);return Object(R.a)({},e,{isAuthorized:!1,loading:!1,errorMessage:r});case"LOGOUT":return Object(R.a)({},e,{isAuthorized:!1,userName:null,errorMessage:null});case"TOGGLE_AUTH_PAGE_FORM":return Object(R.a)({},e,{reminderActive:!e.reminderActive,errorMessage:null});default:return e}},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"REQUEST_TABLE_DATA":return Object(R.a)({},e,{tableLoading:!0});case"SET_TABLE_DATA":return Object(R.a)({},e,{tableData:a,tableLoading:!1});case"SET_DRAWER_OPTIONS":return Object(R.a)({},e,{drawerOptions:a});case"TOGGLE_DRAWER_STATUS":return Object(R.a)({},e,{drawerActive:!e.drawerActive});case"SET_FORM_OPTIONS":return Object(R.a)({},e,{formOptions:a});case"TOGGLE_MODAL_STATUS":return Object(R.a)({},e,{modalActive:!e.modalActive});case"CLEAR_DATA":return Object(R.a)({},e,{processesId:[],tasks:[],processesDefinitions:[],formFields:[],formTitle:"",formKey:""});default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_CURRENT_LANGUAGE":return Object(R.a)({},e,{currentLanguage:a});default:return e}}}),he=Object(G.a)(Object(ue.b)({serializableCheck:!1})),be=Object(ue.a)({reducer:me,middleware:he,devTools:!1});Object(o.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:be},r.a.createElement(i.a,null,r.a.createElement(se,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),s()}},[[250,1,2]]]);
//# sourceMappingURL=main.836d7bb5.chunk.js.map